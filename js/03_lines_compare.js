(function() {
var delays = {'S1': {0: 0.49382716049382713,
    1: 0.92800000000000005,
    2: 1.0294117647058822,
    3: 1.078740157480315,
    4: 0.75413223140495866,
    5: 1.2160883280757098,
    6: 1.3919753086419753,
    7: 2.2323076923076921,
    8: 3.1087719298245613,
    9: 2.2299465240641712,
    10: 1.6039783001808319,
    11: 1.6843137254901961,
    12: 2.1094339622641511,
    13: 2.7742574257425741,
    14: 3.0990099009900991,
    15: 3.912087912087912,
    16: 3.9054487179487181,
    17: 3.1489698890649764,
    18: 3.0,
    19: 2.7653213751868462,
    20: 2.2413249211356465,
    21: 2.0677966101694913,
    22: 1.7292110874200426,
    23: 2.934508816120907},
   'S2': {0: 1.0135135135135136,
    1: 0.53787878787878785,
    2: 0.82608695652173914,
    3: 3.0084745762711864,
    4: 1.0190641247833623,
    5: 1.4970059880239521,
    6: 2.4359255202628698,
    7: 2.8692421991084696,
    8: 4.0063025210084033,
    9: 3.7387387387387387,
    10: 3.7311111111111113,
    11: 3.4383561643835616,
    12: 3.4500000000000002,
    13: 3.2560706401766004,
    14: 3.0952380952380953,
    15: 3.4716553287981857,
    16: 3.6143187066974596,
    17: 3.5947712418300655,
    18: 2.9157667386609072,
    19: 2.2531120331950207,
    20: 1.8898876404494382,
    21: 2.0298507462686568,
    22: 1.8807692307692307,
    23: 1.787085514834206},
   'S4': {0: 0.76712328767123283,
    1: 0.46875,
    2: 0.40740740740740738,
    3: 0.20000000000000001,
    4: 0.92395437262357416,
    5: 1.9550561797752808,
    6: 1.5718349928876245,
    7: 1.6802721088435375,
    8: 2.4855072463768115,
    9: 2.6822612085769979,
    10: 1.7901701323251418,
    11: 2.4610778443113772,
    12: 1.7580645161290323,
    13: 2.1861252115059222,
    14: 1.0179738562091503,
    15: 1.4766187050359711,
    16: 1.9025270758122743,
    17: 1.7298245614035088,
    18: 1.3034734917733091,
    19: 1.2319819819819819,
    20: 1.9047619047619047,
    21: 1.3638554216867469,
    22: 1.0108695652173914,
    23: 0.60670731707317072},
   'S7': {0: 1.3076923076923077,
    1: 1.4883720930232558,
    2: 1.103448275862069,
    3: 2.1851851851851851,
    4: 1.3761194029850747,
    5: 1.9325396825396826,
    6: 2.1712473572938689,
    7: 2.6097804391217565,
    8: 3.1442105263157893,
    9: 3.8766937669376693,
    10: 3.8503937007874014,
    11: 3.5603271983640083,
    12: 2.8821052631578947,
    13: 2.7492260061919507,
    14: 2.9702857142857142,
    15: 4.188967136150235,
    16: 4.2570462232243518,
    17: 3.9527472527472529,
    18: 3.2662473794549265,
    19: 3.1086956521739131,
    20: 3.4139610389610389,
    21: 3.4216335540838854,
    22: 2.4936708860759493,
    23: 1.445983379501385},
   'S9': {0: 0.53846153846153844,
    1: 1.1101694915254237,
    2: 8.4761904761904763,
    3: 9.9393939393939394,
    4: 0.78637770897832815,
    5: 1.3315579227696406,
    6: 1.2933643771827708,
    7: 1.7457264957264957,
    8: 2.0792951541850222,
    9: 1.901116427432217,
    10: 1.5894538606403013,
    11: 1.4555555555555555,
    12: 0.8554913294797688,
    13: 1.0746478873239436,
    14: 1.7006802721088434,
    15: 1.7804054054054055,
    16: 1.7364161849710982,
    17: 1.2761194029850746,
    18: 1.0182795698924731,
    19: 0.98527865404837012,
    20: 1.4075144508670521,
    21: 0.87651821862348178,
    22: 0.98474945533769065,
    23: 1.1921182266009853}};

var series = [];

Object.keys(delays).forEach(function(k) {
    series.push({
        'name': 'Linka ' + k,
        data: Object.values(delays[k]),
        showInLegend: true
    })
});

Highcharts.chart('linky_comp', {
    chart: {
        type: 'column'
    },
    colors: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00'],
    credits: {
        enabled: false
    },
    title: {
        text: 'Průměrné zpoždění na linkách S '
    },
    subtitle: {
        text: 'od 14. března do 3. dubna 2018'
    },
    xAxis: {
        categories: Array.from(Array(13).keys()),
        crosshair: true,
        title: {
            text: 'hodina'
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Průměrné zpoždění (minuty)'
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}. hodina</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} min.</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        column: {
            pointPadding: 0.2,
            borderWidth: 0
        }
    },
    series: series
});
})();
